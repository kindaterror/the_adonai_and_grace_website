# =========================
# Core App
# =========================
DATABASE_URL=postgresql://username:password@host:port/database?sslmode=require
HOST=127.0.0.1
PORT=3000

# Public URLs
BACKEND_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# =========================
# Email Providers — choose ONE primary path
# Order of preference in code: RESEND_API_KEY → SENDGRID_API_KEY → SMTP fallback
# If you use an API provider you can omit SMTP_* vars entirely.
# =========================

# --- Resend (recommended for simple setup) ---
# 1. Create domain in Resend dashboard (e.g. send.yourdomain.edu.ph)
# 2. Add the DNS records they show (usually 2 DKIM CNAME + optional SPF include + optional Return-Path)
# 3. Wait for verification (can take from minutes to a few hours). Use: nslookup -type=txt send.yourdomain.edu.ph
# 4. Set EMAIL_FROM with a mailbox at the VERIFIED domain, e.g. "School Name <noreply@send.yourdomain.edu.ph>"
# Temporary testing: you may use the sandbox address Resend gives (e.g. onboarding@resend.dev) but deliverability + recipients are limited.
RESEND_API_KEY=

# --- SendGrid (alternative) ---
#SENDGRID_API_KEY=

# Force selecting a provider if you have multiple keys set (optional): resend | sendgrid
#EMAIL_PROVIDER=

# --- Raw SMTP (fallback) ---
# Only needed if NOT using the API providers above, or as a last resort fallback.
# Example below shows Gmail (requires App Password + less restrictive sending limits not guaranteed):
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-16-char-app-password   # Generate from Google App Passwords

# The display name may include & safely when quoted. Ensure the closing quote exists.
# Example custom-domain sender (AFTER DNS verification):
EMAIL_FROM="Your School Name <noreply@send.yourdomain.edu.ph>"

# For temporary Resend sandbox testing ONLY (replace once domain verified):
#EMAIL_FROM="Your School Name <onboarding@resend.dev>"

# =========================
# Security / Auth
# =========================
JWT_SECRET=generate-a-strong-random-secret-key-here

# Centralized expiry settings (used by routes; optional but recommended)
PASSWORD_RESET_TTL_MIN=15
EMAIL_VERIFY_TTL_HOURS=24

# Rate limit settings (used by middleware; optional)
RATE_LIMIT_WINDOW_MS=600000   # 10 minutes
RATE_LIMIT_MAX=5              # 5 requests per window per IP/email

# =========================
# Cloudinary
# =========================
VITE_CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# =========================
# Admin Bootstrap
# =========================
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@yourschool.edu.ph
ADMIN_PASSWORD=change-this-to-a-strong-password
ADMIN_FIRST_NAME=System
ADMIN_LAST_NAME=Administrator

SMTP_TEST_TO=test@example.com